define( [
  '../../../../bower_components/underscore/underscore',
  'backbone',
	'config'
], function( _, Backbone, Config ){
    var DriveModel = Backbone.Model.extend( {
			url: function() {
				return Config.apiURL + '/drives/' + this.id;
			},
			defaults: function() {
				return {
					id: null,
					learnerId: null,
					instructorId: null,
					startDate: null,
					stopDate: null,
					duration: '00:00:00',
					driveType: null,
					driveName: null,
					driveComment: null,
					route: null,
					distance: 0,
					averageSpeed: 0,
					starRating: 0,
					weather: {},
					manoeuvres: [],
					share: [],
					paths: []
				};
			},
			parse: function( response, options ) {
				// change the dates to a readable format

				if ( response.weather ) {
					response.weatherImage = response.weather.image.vector;
					response.weatherImageSize = 50;
					response.weatherTemperature = response.weather.temperature;
				}

				// change the distance to user unit preference
				response.distanceUnit = 'mi';

				// change the average speed to user unit preference
				response.averageSpeedUnit = 'MPH'

				return response;
			}
    } );
    return DriveModel;
} );
