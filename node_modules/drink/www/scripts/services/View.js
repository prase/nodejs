'use strict';

var services = angular.module('parkedex.services');

// Service that manipulates the DOM: (not used not, but future stuff?)
services.factory('ViewService', ['$window', '$timeout', function ($window, $timeout) {
	
	// https://github.com/daneden/animate.css

	return {
		show : function (DOMelement) {
			var el = angular.element(DOMelement);
			el.removeClass ('hide');

			el.addClass('animated bounceIn');

			// triggering reflow:
  			// without this it wouldn't work. Try uncommenting the line and the transition won't be retriggered.
			console.log(DOMelement.offsetHeight);

			$timeout (function () {
				el.removeClass('animated bounceIn');
				console.log ('show has ended, classes: ' + DOMelement.className);
			}, 1000);
		},
		hide : function (DOMelement) {
			var el = angular.element(DOMelement);
			el.addClass('hide');
			/*// add animate.css class:
			el.addClass('animated fadeOut');

			// triggering reflow:
  			// without this it wouldn't work. Try uncommenting the line and the transition won't be retriggered.
			console.log(DOMelement.offsetHeight);

			console.log ('class added');
			$timeout (function () {
				el.addClass('hide');
				el.removeClass('animated fadeOut');
				console.log ('should have hide and no fadeout:' + DOMelement.className);
			}, 100);
			console.log ('should have fadeout:' + DOMelement.className);*/
		},
		remove : function (DOMelement) {
			var el = angular.element(DOMelement);
			el.remove();
			
			/*el.addClass('animated fadeOut');

			// triggering reflow:
  			// without this it wouldn't work. Try uncommenting the line and the transition won't be retriggered.
			console.log(DOMelement.offsetHeight);

			$timeout (function () {
				
			}, 1000);*/
		}
	};
}]);