<ion-side-menus enable-menu-with-back-views="false" class="transparentBackground">
  <ion-side-menu-content drag-content="false" watch-menu class="transparentBackground">
    <ion-nav-bar class="bar-balanced">
      <ion-nav-back-button></ion-nav-back-button>

      <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
        </button>
      </ion-nav-buttons>
    </ion-nav-bar>
	<div id="map_canvas" class="google-map" style="width:100%;" >
		
		<!-- Feedback-city -->
		<div class="card hide onMap" id="missingAddressBox" ng-show="onSearch">
			<div class="sendCityBox clearfix item item-text-wrap">
			
				<img alt="pin in a letter" src="images/imgs/city_illustration-01.svg"></img>
				<h3>Hoppla! Für diese Stadt haben wir noch keine Parkhäuser...</h3>
				<p>Stimme für <strong class="cityName">>>{{data.address}}<<</strong><br>
				und wir kümmern uns darum, dass du auch hier bald mit parkpocket Parkhäuser findest.</p>
			</div>
			<div class="item item-divider">
				<button class="button button-balanced align_right button-small buttonGreen" ng-click="sendCityFeedback()">Senden</button>
				<button class="button button-balanced button-small buttonGreen" ng-click="closeCityFeedback()">Schließen</button>
			</div>
		</div>
  
		<!-- Map view -->
		<div ng-if="data.selectedParking != null" ng-show="!data.showList" class="item item-text-wrap smallParkInfo withRouting onMap" ng-click="openParkinfo(data.selectedParking.id)" on-swipe-up="openParkinfo(data.selectedParking.id)">
			<h2 class="parkTitle">{{data.selectedParking.title}}</h2>
			<ul>
				<li>
					<h5>Preis</h5>
					<span class="parkPrice">{{data.selectedParking.selected_price}}<span ng-show="data.selectedParking.selected_price != '-'"> €</span></span>
				</li>
				<li>
					<div ng-if="data.selectedParking.carpark.dynamic_data.free_spots != '-' && data.selectedParking.carpark.total_spots != ''">
						<h5>Kapazität</h5>
						<span class="parkFreeSpots">{{data.selectedParking.carpark.dynamic_data.free_spots}} / {{data.selectedParking.carpark.total_spots}}</span>
					</div> 
					<div ng-if="data.selectedParking.carpark.dynamic_data.free_spots == '-' && data.selectedParking.carpark.total_spots != ''">
						<h5>Gesamt</h5>
						<span class="parkFreeSpots">{{data.selectedParking.carpark.total_spots}}</span>
					</div>
					<div ng-if="data.selectedParking.carpark.dynamic_data.free_spots != '-' && data.selectedParking.carpark.total_spots == ''">
						<h5>Frei</h5>
						<span class="parkFreeSpots">{{data.selectedParking.carpark.dynamic_data.free_spots}}</span>
					</div>
					<div ng-if="data.selectedParking.carpark.dynamic_data.free_spots == '-' && data.selectedParking.carpark.total_spots == ''">
						<h5>Frei</h5>
						<span class="parkFreeSpots">n.a.</span>
					</div>
				</li>
				<li>
					<h5>Entfernung</h5>
					<span class="parkDistance">{{data.selectedParking.distance}} km</span>
				</li>
			</ul>
			<div class="button pull-right clickable routingButton" ng-click="sendToExternalRouter($event, data.selectedParking.lat, data.selectedParking.lng)"><img alt="navigationspfeil" src="./images/icons/icon_route_round-01.svg" height="46px" width="46px"/></div>
		</div>
	</div>
    <ion-nav-view name="menuContent" class="transparentBackground"></ion-nav-view>
  </ion-side-menu-content>


  <ion-side-menu side="left">
    <ion-header-bar class="bar-balanced" id="menu_header_poly">
        <i class="logo_side_menu"></i>
    </ion-header-bar>
    <ion-content id="menu_img" ng-show="viewData.menuVisible" ng-style="{'transform': viewData.sideMenuTransform, '-webkit-transform': viewData.sideMenuTransform}">
      <ion-list class="side_menu">
       
        <ion-item nav-clear menu-close ng-click="navigateTo('app/search'); ">
          <i class="icon ion-android-search"></i>
          Übersicht
        </ion-item>
        <!--<ion-item nav-clear menu-close ng-click="">
          <i class="icon ion-star"></i>
          App bewerten
        </ion-item>
        <ion-item nav-clear menu-close ng-click="">
          <i class="icon ion-email"></i>
          Feedback senden
        </ion-item>
        <ion-item nav-clear menu-close ng-click="">
          <i class="icon ion-share"></i>
          App teilen
        </ion-item>-->
        <ion-item nav-clear menu-close ng-click="showModal('datenschutz'); ">          
          <i class="icon ion-locked"></i>
          Datenschutz
        </ion-item>
		<ion-item nav-clear menu-close ng-click="showModal('impressum'); ">
          <i class="icon ion-information-circled"></i>
          Impressum
        </ion-item>
		<!--<ion-item nav-clear menu-close ng-click="logout()">
          Logout
        </ion-item>-->
      </ion-list>
    </ion-content>
  </ion-side-menu>
</ion-side-menus>
