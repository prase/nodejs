<ion-modal-view on-swipe-down="closeParkinfo()">
  <!--<ion-header-bar>
    <div class="buttons">
      <button class="button button-clear pull-right" ng-click="closeParkinfo()">Close</button>
    </div>
  </ion-header-bar>-->
  <ion-content padding="true" class="parkingView" has-bouncing="false" >
	<div ng-if="viewVars.detailAvailable">
		<div class="card clickable" ng-click="closeParkinfo()">
			<div class="item item-text-wrap smallParkInfo current">
				<h2 class="parkTitle">{{::data.selectedParking.title}}</h2>
				<ul>
					<li>
						<h5>Preis</h5>
						<span class="parkPrice">{{::data.selectedParking.selected_price}} €</span>
					</li>
					<li>
						<div once-if="data.selectedParking.carpark.dynamic_data.free_spots != '-' && data.selectedParking.carpark.total_spots != ''">
							<h5>Kapazität</h5>
							<span class="parkFreeSpots">{{::data.selectedParking.carpark.dynamic_data.free_spots}} / {{::data.selectedParking.carpark.total_spots}}</span>
						</div>
						<div once-if="data.selectedParking.carpark.dynamic_data.free_spots == '-' && data.selectedParking.carpark.total_spots != ''">
							<h5>Gesamt</h5>
							<span class="parkFreeSpots">{{::data.selectedParking.carpark.total_spots}}</span>
						</div>
						<div once-if="data.selectedParking.carpark.dynamic_data.free_spots != '-' && data.selectedParking.carpark.total_spots == ''">
							<h5>Frei</h5>
							<span class="parkFreeSpots">{{::data.selectedParking.carpark.dynamic_data.free_spots}}</span>
						</div>
						<div ng-if="data.selectedParking.carpark.dynamic_data.free_spots == '-' && data.selectedParking.carpark.total_spots == ''">
							<h5>Frei</h5>
							<span class="parkFreeSpots">n.a.</span>
						</div>
					</li>
					<li>
						<h5>Entfernung</h5>
						<span class="parkDistance">{{::data.selectedParking.distance}} km</span>
					</li>
				</ul>
			 </div>
		</div>
		<div class="card">
			<div class="item item-text-wrap parkInfoDetailBox">
				<h3 class="parkDetailTitle"><i class="icon ion-clock"></i> Öffnungszeiten</h3>
				<table class="parkDetailTable" ng-hide="data.selectedParking.noTimesFlag">
					<tr ng-repeat="openingTime in ::data.selectedParking.openingtimes">
						<td class="desc">{{::openingTime.tagname}}</td>
						<td class="cont">{{::openingTime.content}}</td>
					</tr>
					<tr class="show-if-first loadpanel">
						<td colspan="2">Inhalte werden geladen...<br>
						<i class="icon ion-loading-d"></i>
						<i class="icon ion-loading-c"></i>
						<i class="icon ion-loading-b"></i>
						<i class="icon ion-loading-a"></i>
						<ion-spinner></ion-spinner>
						</td>
					</tr>
				</table>
				<div ng-show="data.selectedParking.noTimesFlag">
					Keine Informationen zu Öffnungszeiten vorhanden.
				</div>
			 </div>
		</div>
		<div class="card">
			<div class="item item-text-wrap parkInfoDetailBox">
				<h3 class="parkDetailTitle"><i class="icon ion-cash"></i> Preise</h3>
				<div ng-repeat="priceTable in ::data.selectedParking.pricelist track by priceTable.prices" ng-hide="data.selectedParking.noPricesFlag">
					<h4 class="priceTitle">Heutige Preise von {{::priceTable.start_time}} bis {{::priceTable.end_time}}:</h4>
					<table class="parkDetailTable">
						<tr ng-repeat="priceRow in ::priceTable.prices">
							<td class="desc">{{::priceRow.description}}</td>
							<td class="cont">{{::priceRow.price}} €</td>
						</tr>
					</table>
				</div>
				<div class="show-if-first loadpanel" ng-hide="data.selectedParking.noPricesFlag">
					Inhalte werden geladen...<br>
					<i class="icon ion-loading-d"></i>
					<i class="icon ion-loading-c"></i>
					<i class="icon ion-loading-b"></i>
					<i class="icon ion-loading-a"></i>
					<i class="icon ion-refreshing"></i>
					<i class="icon ion-looping"></i>
					<ion-spinner></ion-spinner>
				</div>
				<div ng-show="data.selectedParking.noPricesFlag">
					Keine Informationen zu Preisen vorhanden.
				</div>
			 </div>
		</div>
		<div class="card clickable" ng-click="openExtraInfo()">
			<div class="item item-text-wrap parkInfoDetailBox">
				<h3 class="parkDetailTitle"><i class="icon ion-star"></i> Extras</h3>
				<ul class="extraList clearfix">
					<li once-class="{extra_activated: (data.selectedParking.carpark.entrance_height>0)}">
						<span class="extraHeight">
						<img class="data.selectedParkingExtraIcon" src="images/icons/icon_height-01.svg"></img>
						<span class="extra_entry_height">{{::data.selectedParking.carpark.entrance_height}}m</span>
						</span>
					</li>
					<li once-class="{extra_activated: data.selectedParking.carpark.extras_camera}">
						<span class="extraCamera">
							<img class="data.selectedParkingExtraIcon" src="images/icons/icon_video-01.svg"></img>
						</span>
					</li>
					<li once-class="{extra_activated: data.selectedParking.carpark.extras_disabled_spaces}">
						<span class="extraDisabled">
							<img class="data.selectedParkingExtraIcon" src="images/icons/icon_disabled-01.svg"></img>
						</span>
					</li>
					<li once-class="{extra_activated: data.selectedParking.carpark.extras_women_spaces}">
						<span class="extraWomen">
							<img class="data.selectedParkingExtraIcon" src="images/icons/icon_female-01.svg"></img>
						</span>
					</li>
					<li once-class="{extra_activated: data.selectedParking.carpark.is_ecarpark}">
						<span class="extraECarpark">
							<img class="data.selectedParkingExtraIcon" src="images/icons/icon_electro-01.svg"></img>
						</span>
					</li>
				</ul>
			 </div>
		</div>
		<div class="card">
			<div class="item item-text-wrap parkInfoDetailBox">
				<h3 class="parkDetailTitle"><i class="icon ion-location"></i> Adresse</h3>
				<!--<img class="parkPicture fullwidth" src="http://maps.googleapis.com/maps/api/streetview?size=400x200&location={{data.selectedParking.Lat}},{{data.selectedParking.Lng}}&sensor=true&pitch=-1"></img>-->
				{{::data.selectedParking.street}}<span once-show="data.selectedParking.house_number"> {{::data.selectedParking.house_number}}</span><br>
				<span once-show="data.selectedParking.zip_code">{{::data.selectedParking.zip_code}} </span>{{::data.selectedParking.city}}
			 </div>
		</div>
	</div>
  </ion-content>
  <ion-footer-bar align-title="center" class="clickable bar-positive" ng-click="sendToExternalRouter($event, data.selectedParking.lat, data.selectedParking.lng)">
  	<div class="title route-bar" ><div class="routeButtonBox"><img class="routerButton" src="images/icons/icon_route-01.svg" alt="Route suchen"/></div><span class="route-bar-label">Route</span></div>
  </ion-footer-bar>
</ion-modal-view>
