"use strict";
define( [
  '../../../../bower_components/underscore/underscore',
  'backbone',
	'models/search'
], function( _, Backbone, SearchModel ){

	var SearchResults = Backbone.Collection.extend({
		model : SearchModel,
		searchTerm: '',
		initialize: function() {

		},
		url : function() {
			return window.app.config.apiURL + "/search/" + this.searchTerm;
		},
		parse: function( response ) {

			if ( response.terms ) {

				_.each( response.terms, function( t ) {
					t.isTown = false;
					if ( t.type == 'town' ) {
						t.isTown = true;
					}
				} );

				return response.terms;
			}
		}

	});

	return SearchResults;
} );
