/* Handlebars i18next Helper
 * 
 * Version 0.1.0 (10-13-2013)
 * Copyright 2013 Jacob van Mourik
 * Released under the MIT license
 */
( function( root, factory ) {

	// Expose Handlebars with i18next helper
	if ( typeof module == "object" && module.exports ) {
		module.exports = factory( require( "hbs/handlebars" ) );
	} else if ( typeof define == "function" && define.amd ) {
		define( [ "hbs/handlebars" ], function( Handlebars ) {
			return factory( Handlebars || root.Handlebars );
		} );
	} else {
		factory( Handlebars || root.Handlebars );
	}

} )( this, function( Handlebars ) {
"use strict";
	
	// star rating
	Handlebars.registerHelper( 'hbsStarRating', function( items, options ) {
		var out = '';
		if ( !items.max || !items.average ) {
			out = '<div>missing max and/or average</div>';
		} else {
		
			out = '<div>';
			for( var i = 0, l = items.max; i < l; i++ ) {
				out = out + '<span class="star ' + ( ( ( i + 1 ) <= items.average ) ? 'fullStar' : 'emptyStar' ) + '"></span>';
			}
			out = out + '</div>';
		}

		return out;
	});
	

	return Handlebars;
});