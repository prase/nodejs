define( [
    'jquery',
    '../../../../bower_components/underscore/underscore',
    'backbone',
		'models/instructor',
		'hbs!templates/instructor'
], function( $, _, Backbone, InstructorModel, instructorTemplate ) {
	var InstructorView = Backbone.View.extend( {

		tagName: 'article',
		className: 'instructor-card',

		events: {
			'click': 'showInstructor'
		},

		initialize: function(){
			this.render();
		},

		render: function() {

			var self = this;
			var params = this.model || {};

			if ( _.isNull( params.hourlyRate ) ) {
				params.hourlyRate = '--';
			}

			var compiledTemplate = instructorTemplate( params );

			self.$el.html( compiledTemplate );
			self.delegateEvents();

			return self;
		},

		showInstructor: function( event ) {
			event.preventDefault();
			window.app.router.navigate( "/instructorDetail/" + this.model.id, true );
		}

	} );

	return InstructorView;
} );
